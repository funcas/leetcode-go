package problems

import "fmt"

/*
 * @lc app=leetcode.cn id=401 lang=golang
 *
 * [401] 二进制手表
 */

// @lc code=start
func ReadBinaryWatch(num int) []string {
	nums := []int{1, 2, 4, 8, 16, 32, -1, -2, -4, -8}
	ans := []string{}
	var backtrack func(idx int, path []int, hour int, min int)
	backtrack = func(idx int, path []int, hour int, min int) {
		if len(path) == num {
			if min > 59 || hour < -11 {
				return
			}
			ans = append(ans, fmt.Sprintf("%d:%.2d", -hour, min))
			return
		}
		for i := idx; i < len(nums); i++ {
			path = append(path, nums[i])
			if nums[i] > 0 {
				min += nums[i]
			} else {
				hour += nums[i]
			}

			backtrack(i+1, path, hour, min)
			x := path[len(path)-1]
			path = path[:len(path)-1]
			if x > 0 {
				min -= x
			} else {
				hour -= x
			}
		}
	}
	backtrack(0, []int{}, 0, 0)
	return ans
}

// @lc code=end

// 0 0 0 0
// 0 0 0 0 0 0
// ["0:07","0:11","0:13","0:14","0:19","0:21","0:22","0:25","0:26","0:28","0:35","0:37","0:38","0:41","0:42","0:44","0:49","0:50","0:52","0:56","1:03","1:05","1:06","1:09","1:10","1:12","1:17","1:18","1:20","1:24","1:33","1:34","1:36","1:40","1:48","2:03","2:05","2:06","2:09","2:10","2:12","2:17","2:18","2:20","2:24","2:33","2:34","2:36","2:40","2:48","3:01","3:02","3:04","3:08","3:16","3:32","4:03","4:05","4:06","4:09","4:10","4:12","4:17","4:18","4:20","4:24","4:33","4:34","4:36","4:40","4:48","5:01","5:02","5:04","5:08","5:16","5:32","6:01","6:02","6:04","6:08","6:16","6:32","7:00","8:03","8:05","8:06","8:09","8:10","8:12","8:17","8:18","8:20","8:24","8:33","8:34","8:36","8:40","8:48","9:01","9:02","9:04","9:08","9:16","9:32","10:01","10:02","10:04","10:08","10:16","10:32","11:00"]
// ["11:00","10:32","10:16","10:08","10:04","10:02","10:01","9:32","9:16","9:08","9:04","9:02","9:01","8:48","8:40","8:36","8:34","8:33","8:24","8:20","8:18","8:17","8:12","8:10","8:09","8:06","8:05","8:03","7:00","6:32","6:16","6:08","6:04","6:02","6:01","5:32","5:16","5:08","5:04","5:02","5:01","4:48","4:40","4:36","4:34","4:33","4:24","4:20","4:18","4:17","4:12","4:10","4:09","4:06","4:05","4:03","3:32","3:16","3:08","3:04","3:02","3:01","2:48","2:40","2:36","2:34","2:33","2:24","2:20","2:18","2:17","2:12","2:10","2:09","2:06","2:05","2:03","1:48","1:40","1:36","1:34","1:33","1:24","1:20","1:18","1:17","1:12","1:10","1:09","1:06","1:05","1:03","0:56","0:52","0:50","0:49","0:44","0:42","0:41","0:38","0:37","0:35","0:28","0:26","0:25","0:22","0:21","0:19","0:14","0:13","0:11","0:07"]
